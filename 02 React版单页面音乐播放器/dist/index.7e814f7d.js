webpackJsonp([0],{265:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(226),o=r(a),u=n(264),i=r(u);t.default=o.default(i.default,"enableBeforeUnload is deprecated, use useBeforeUnload instead"),e.exports=t.default},0:function(e,t,n){e.exports=n(1)},197:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(174),o=n(198),u=r(o),i=n(200),s=e(i),l=(0,a.createStore)((0,a.combineReducers)(u),(0,a.applyMiddleware)(s.default));t.default=l}).call(this)}finally{}},198:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicState=void 0;var e=n(199),r={isPlay:!1,curMusic:{song_id:265035807,title:"下雨了",author:"薛之谦",pic_small:"http://musicdata.baidu.com/data2/pic/265035417/265035417.jpg@s_0,w_90",pic_premium:"http://musicdata.baidu.com/data2/pic/265035417/265035417.jpg@s_0,w_500",song_url:"http://zhangmenshiting.baidu.com/data2/music/3581301d1a5ee9d0e304347f20ac8853/265037388/265037388.mp3?xcode=221914f073a260529614b4474386abae",lrclink:"http://musicdata.baidu.com/data2/lrc/3f7f26454ca8481b085d31eb81f591c5/265206193/265206193.lrc"},playList:[{song_id:265035807,title:"下雨了",author:"薛之谦",pic_small:"http://musicdata.baidu.com/data2/pic/265035417/265035417.jpg@s_0,w_90"},{song_id:541244,title:"Heart And Soul",author:"Kenny G",pic_small:"http://musicdata.baidu.com/data2/pic/36947212/36947212.jpg@s_0,w_90"}]};t.musicState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=arguments[1];switch(n.type){case e.PLAYORPAUSE:return t.isPlay?Object.assign({},t,{isPlay:!1}):(console.log("暂停"),Object.assign({},t,{isPlay:!0}));case e.MUSICCHANGE:return Object.assign({},t,{isPlay:!0,curMusic:n.musicChange});default:return t}}}).call(this)}finally{}},199:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYORPAUSE="PLAYORPAUSE",t.MUSICCHANGE="MUSICCHANGE",t.REQUESTSONG="REQUESTSONG"}).call(this)}finally{}},201:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=e(i),l=n(202),c=n(263),f=n(267),d=e(f),p=(0,l.useRouterHistory)(c.createHashHistory)({queryKey:!1}),m=s.default.createElement(l.Route,{path:"/",component:d.default}),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return s.default.createElement(l.Router,{history:p,routes:m})}}]),t}(i.Component);t.default=y}).call(this)}finally{}},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(226),o=r(a),u=n(224),i=r(u),s=n(260),l=r(s);t.createHistory=l.default;var c=n(211),f=r(c);t.createHashHistory=f.default;var d=n(256),p=r(d);t.createMemoryHistory=p.default;var m=n(255),y=r(m);t.useBasename=y.default;var h=n(264),_=r(h);t.useBeforeUnload=_.default;var v=n(227),b=r(v);t.useQueries=b.default;var g=n(213),O=r(g);t.Actions=O.default;var E=n(265),M=r(E);t.enableBeforeUnload=M.default;var P=n(266),w=r(P);t.enableQueries=w.default;var j=o.default(i.default,"Using createLocation without a history instance is deprecated; please use history.createLocation instead");t.createLocation=j},264:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(t){var n=e();if("string"==typeof n)return(t||window.event).returnValue=n,n}return l.addEventListener(window,"beforeunload",t),function(){l.removeEventListener(window,"beforeunload",t)}}function o(e){return function(t){function n(){for(var e=void 0,t=0,n=d.length;null==e&&t<n;++t)e=d[t].call();return e}function r(e){return d.push(e),1===d.length&&s.canUseDOM&&(c=a(n)),function(){d=d.filter(function(t){return t!==e}),0===d.length&&c&&(c(),c=null)}}function o(e){s.canUseDOM&&d.indexOf(e)===-1&&(d.push(e),1===d.length&&(c=a(n)))}function i(e){d.length>0&&(d=d.filter(function(t){return t!==e}),0===d.length&&c())}var l=e(t),c=void 0,d=[];return u({},l,{listenBeforeUnload:r,registerBeforeUnloadHook:f.default(o,"registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead"),unregisterBeforeUnloadHook:f.default(i,"unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead")})}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(212),s=(r(i),n(215)),l=n(216),c=n(226),f=r(c);t.default=o,e.exports=t.default},1:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=n(2),r=e(t),a=n(29),o=n(167),u=n(197),i=e(u),s=n(201),l=e(s);(0,a.render)(r.default.createElement(o.Provider,{store:i.default},r.default.createElement(l.default,null)),document.getElementById("container"))}).call(this)}finally{}},266:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(226),o=r(a),u=n(227),i=r(u);t.default=o.default(i.default,"enableQueries is deprecated, use useQueries instead"),e.exports=t.default},267:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=e(i),l=n(202),c=n(167),f=n(268);n(271),n(275),n(277);var d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.playOrPause=n.playOrPause.bind(n),n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.playOrPause(this.props),this.refs.audio.onended=this.props.nextMusic}},{key:"componentDidUpdate",value:function(){this.playOrPause(this.props),this.refs.audio.onended=this.props.nextMusic}},{key:"playOrPause",value:function(e){e.isPlay?this.refs.audio.play():this.refs.audio.pause()}},{key:"render",value:function(){var e="url("+this.props.curMusic.pic_small+")",t=this.props.curMusic.song_url,n=this.props.curMusic.title,r=this.props.curMusic.author;return s.default.createElement("div",null,s.default.createElement("div",{className:"header"},s.default.createElement(l.Link,{to:"/",className:""},"频道"),s.default.createElement(l.Link,{to:"search",className:""},"搜索"),s.default.createElement(l.Link,{to:"musicList",className:""},"列表")),s.default.createElement("div",{className:"player-panel"},s.default.createElement("audio",{ref:"audio",src:t}),s.default.createElement(l.Link,{to:"lyric",className:"music-img",style:{backgroundImage:e}}),s.default.createElement("div",{className:"music-baseInfo"},s.default.createElement("h6",{className:"music-name"},n),s.default.createElement("p",{className:"music-artist"},r)),s.default.createElement("div",{className:"music-control"},s.default.createElement("span",{className:"m-icon music-play "+(this.props.isPlay?"m-pause":"m-play"),onClick:this.props.playOrPause}),s.default.createElement("span",{className:"m-icon m-next music-next",onClick:this.props.nextMusic})),s.default.createElement("div",{className:"progress"})))}}]),t}(i.Component),p=function(e){var t=e.musicState||{isPlay:!1,curMusic:{url:"#",title:"Not Know",author:"Not Know"}},n=t.isPlay,r=t.curMusic;return{isPlay:n,curMusic:r}},m=function(e,t){return{playOrPause:function(){return e((0,f.MusicOperation)("PLAYORPAUSE"))},nextMusic:function(){return e((0,f.MusicOperation)("MUSICCHANGE"))}}};t.default=(0,c.connect)(p,m)(d)}).call(this)}finally{}},268:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:s.REQUESTSONG,song_id:e}}function a(e){return{type:s.MUSICCHANGE,musicChange:{song_id:e.songinfo.song_id,title:e.songinfo.title,author:e.songinfo.author,pic_small:e.songinfo.pic_small,pic_premium:e.songinfo.pic_premium,song_url:e.bitrate.show_link,lrclink:e.songinfo.lrclink}}}function o(e){return!1}function u(e){return function(t){t(r(e));var n=f.CONFIG.base_url+"?method="+f.CONFIG.song_method+"&songid="+e;return(0,c.default)(n,{timeout:2e4,jsonpCallback:"callback"}).then(function(e){return e.json()}).then(function(e){return t(a(e))}).catch(function(e){return console.log(e)})}}function i(e){switch(e){case s.PLAYORPAUSE:return{type:s.PLAYORPAUSE};case s.MUSICCHANGE:return function(e,t){var n=t().musicState;if(!o(n)){for(var r=0,a=0,i=n.playList.length,s=0;s<i;s++)if(n.playList[s].song_id==n.curMusic.song_id){r=s+1;break}return r%=i,a=n.playList[r].song_id,e(u(a))}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.MusicOperation=i;var s=n(199),l=n(269),c=e(l),f=n(270)}).call(this)}finally{}},269:function(e,t,n){var r,a,o;!function(n,u){a=[t,e],r=u,o="function"==typeof r?r.apply(t,a):r,!(void 0!==o&&(e.exports=o))}(this,function(e,t){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function a(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,i=t.timeout||u.timeout,s=t.jsonpCallback||u.jsonpCallback,l=void 0;return new Promise(function(u,c){var f=t.jsonpCallbackFunction||n(),d=s+"_"+f;window[f]=function(e){u({ok:!0,json:function(){return Promise.resolve(e)}}),l&&clearTimeout(l),a(d),r(f)},o+=o.indexOf("?")===-1?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+o+s+"="+f),p.id=d,document.getElementsByTagName("head")[0].appendChild(p),l=setTimeout(function(){c(new Error("JSONP request to "+e+" timed out")),r(f),a(d)},i)})}var u={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};t.exports=o})},270:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONFIG={base_url:"http://tingapi.ting.baidu.com/v1/restserver/ting",song_method:"baidu.ting.song.play"}}).call(this)}finally{}},271:function(e,t){},275:function(e,t){},277:function(e,t){}});